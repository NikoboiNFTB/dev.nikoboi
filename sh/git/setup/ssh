#!/usr/bin/env bash
set -e

read -rp "Install directory (leave blank to use current directory): " install_dir

install_dir="${install_dir/#\~/$HOME}"

if [ -z "$install_dir" ]; then
    install_dir="$PWD"
    echo "Using current directory: $install_dir"
fi

if [ ! -d "$install_dir" ]; then
    echo "Directory doesnâ€™t exist. Making it for you."
    mkdir -p "$install_dir"
fi

cd "$install_dir"

echo "Downloading files..."

wget -q https://raw.githubusercontent.com/NikoboiNFTB/GitHub-Tools/refs/heads/main/shell/git/ssh/disable-ssh
chmod +x disable-ssh

wget -q https://raw.githubusercontent.com/NikoboiNFTB/GitHub-Tools/refs/heads/main/shell/git/ssh/enable-ssh
chmod +x enable-ssh

echo "Files downloaded"

read -rp "Hide files? [y/N]: " hide_choice

case "$hide_choice" in
    [yY])
        echo "Hiding files..."
        for f in disable-ssh enable-ssh; do
            [ -e "$f" ] && mv "$f" ".$f"
        done
        ;;
    *)
        echo "Leaving files visible."
        ;;
esac

echo "All done!"
